---
- name: Debug slave
  debug:
    msg:
      - "slave.path {{ slave.path }}"
      - "alt_slave.name {{ alt_slave.name }}"
      - "alt_slave.path: {{ alt_slave.path }}"
    verbosity: 2
  when: slave.name == alt_slave.name
  loop: "{{ alternative.slaves }}"
  loop_control:
    loop_var: alt_slave
    label: "{{ alt_slave.name }}"
  tags:
    - alternatives

- name: "Set a variable for the slaves part of the update-alternatives command for {{ alt_update.name }} alternative {{ alternative.alternative }}"
  set_fact:
    alternative_slaves: "{{ alternative_slaves | default('') }} --slave {{ slave.path }} {{ alt_slave.name }} {{ alt_slave.path }}"
  when: slave.name == alt_slave.name
  loop: "{{ alternative.slaves }}"
  loop_control:
    loop_var: alt_slave
    label: "{{ alt_slave.name }}"
  tags:
    - alternatives
...
